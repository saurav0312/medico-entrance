<app-homenavigationbar></app-homenavigationbar>
<div>
    <div class="login-container">
        <div class="bb-login">
            <form (ngSubmit)="changePassword()" name="changePasswordForm" [formGroup]="changePasswordForm" > <span class="bb-form-title p-b-26"> Change Password </span> <span class="bb-form-title p-b-48"> <i class="mdi mdi-symfony"></i> </span>
                <div>  
                    <ng-container *ngTemplateOutlet="emailTemplate; context:{$implicit: changePasswordForm}">
                    </ng-container>
                </div>
                <ng-container *ngTemplateOutlet="submitTemplate; context:{$implicit: changePasswordForm}">
                </ng-container>
            </form> 
        </div>
    </div>
</div>

<ng-template #emailTemplate let-changePasswordForm>
    <mat-form-field style="width: 100%;" appearance="outline">
        <mat-label>Email</mat-label>
        <input [formControl]="changePasswordForm.get('email')" type="email" required matInput>
        <mat-error *ngIf="changePasswordForm.dirty && changePasswordForm.get('email')?.value.length==0">
            Email is required
        </mat-error>
    </mat-form-field>
</ng-template>

<ng-template #submitTemplate let-changePasswordForm>
    <div class="login-container-form-btn">
        <div class="bb-login-form-btn">
            <div class="bb-form-bgbtn"></div>
            <button class="bb-form-btn" [disabled]="changePasswordForm.invalid"> 
                Submit 
            </button>
        </div>  
    </div>
</ng-template>

<app-spinner [loading]="loading" [diameter]="50" [overlay]="true">
</app-spinner>