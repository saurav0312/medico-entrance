<div>
<h1 style="text-align: center; margin-top: 2em;">Here is your detail performance report</h1>
<!-- <div *ngFor="let test of testReportDataToSend.allTests"> -->
    <div style="text-align: center; margin-bottom: 3em;"><b>TestId: {{testToShowInTable.testId}}</b>&nbsp; Date: {{testToShowInTable.testTakenDate}}</div>
    <div style="float: right; margin-right: 11.7em;">
        <button mat-raised-button style="margin-left: 1em;" (click)="exporter.exportTable('xlsx', {fileName:'test', sheet: 'sheet_name', Props: {Author: 'OnlineExam'}})">Excel</button>
        <button mat-raised-button style="margin-left: 1em;" (click)="exporter.exportTable('csv')">Csv</button>
        <button mat-raised-button style="margin-left: 1em;" (click)="exporter.exportTable('json')">Json</button>
        <button mat-raised-button style="margin-left: 1em;" (click)="exporter.exportTable('txt')">Txt</button>
        <button mat-raised-button style="margin-left: 1em;" [useExistingCss]="true" printTitle="Your Test Result" printSectionId="content" ngxPrint>Pdf</button> 
    </div> 
    <div style="clear: both;"></div>
    <div [ngClass]="'mat-elevation-z8'" class="table-contents" id="content" #content>
        <mat-table [ngClass]="'styled-table'" matTableExporter [dataSource] = "dataSource"  #exporter="matTableExporter"> 
            <ng-container matColumnDef="no">
                <mat-header-cell [ngClass]="'table-header-class'" *matHeaderCellDef> No </mat-header-cell>
                <mat-cell *matCellDef="let element; let i = index;"> {{paginator.pageIndex * paginator.pageSize + i + 1}} </mat-cell>
            </ng-container>

            <ng-container matColumnDef="question">
                <mat-header-cell [ngClass]="'table-header-class'" *matHeaderCellDef> Question </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.question}} </mat-cell>
            </ng-container>

            <ng-container matColumnDef="selectedOption">
                <mat-header-cell [ngClass]="'table-header-class'" *matHeaderCellDef> Selected Option </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.selectedOption}} </mat-cell>
            </ng-container>

            <ng-container matColumnDef="correctAnswer">
                <mat-header-cell [ngClass]="'table-header-class'" *matHeaderCellDef> Correct Answer </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.correctAnswer}} </mat-cell>
            </ng-container>

            <ng-container matColumnDef="result">
                <mat-header-cell [ngClass]="['table-header-class','quest-width']" *matHeaderCellDef> Result </mat-header-cell>
                <mat-cell [ngClass]="'quest-width'" *matCellDef="let element">
                    <div> 
                        <mat-icon *ngIf ='element.correctAnswer === element.selectedOption' style="color: green;">done</mat-icon>
                        <mat-icon *ngIf ='element.selectedOption!== null && element.correctAnswer !== element.selectedOption' style="color: red;">close</mat-icon>
                        <mat-icon *ngIf ='element.selectedOption === null' style="color: green;">question_mark</mat-icon> 
                    </div>
                </mat-cell>
            </ng-container>

            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>

            
        </mat-table>
        <mat-paginator [pageSize]="5" [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
    </div>

    <!-- P-table usage -->
    
<!-- </div> -->
</div>
